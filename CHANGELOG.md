# Changelog

All notable changes to Ivan's Workflow are documented in this file.

## [1.0.1] — 2026-02-11

### Fixed

**Template substitution bugs in `install.sh`:**

- Added `LANG_EXT` variable derivation from `LANGUAGE` (typescript→ts, javascript→js, python→py). Previously, `project-stack.md` contained a literal `${LANG_EXT}` glob pattern that matched nothing.
- Added `SOURCE_DIR` substitution to the `project-stack.md` sed block — was defined but never substituted into the template.
- Added 7 missing variable substitutions to the `CLAUDE.md` sed block: `COVERAGE_THRESHOLD`, `DEPLOY_CMD`, `DEV_CMD`, `TEST_RUNNER`, `LINTER`, `FORMATTER`, `HANDOFFS_DIR`. These all appeared as literal `${...}` placeholders in the generated file.
- Changed `project-domain.md` generation from `cp` to `sed` processing, so `${PROJECT_NAME}` is now substituted.

**Hook scripts:**

- Added `set -uo pipefail` to `core/hooks/prompt-handoff.sh`. This was the only hook script without error mode flags. Uses `-uo` rather than `-euo` because Stop hooks should not abort on individual check failures.

**Agent files:**

- Added `# Generated by Ivan's Workflow` header to all 8 agent definition files in `core/agents/`. These files previously started directly with YAML frontmatter `---`, inconsistent with the framework's header convention.

**Skill files:**

- Added Honesty Protocol section to `credential-manager` and `spec-checklist` skills. All other skills had this section; these two were missed during initial implementation.
- Added Definition of Failure section to `spec-checklist` and `workflow-handoff` skills (identified by audit).
- Added Definition of Failure section to `credential-manager` skill (identified during fix implementation — not in the original audit but was the only skill missing this section).

**Repository hygiene:**

- Committed `docs/REVIEW-PROMPT.md` which was previously untracked.

### Verification

All fixes verified via end-to-end install test: `install.sh` now generates `CLAUDE.md`, `project-stack.md`, and `project-domain.md` with zero literal `${...}` placeholders across all supported stack configurations.

## [1.0.0] — 2026-02-10

### Added

- Initial release of Ivan's Workflow framework
- 6 main agents: Planner, Builder, Reviewer, Tester, Deployer, Docs
- 8 subagents: code-simplifier, verify-app, ux-reviewer, schema-guardian, integration-tester, pr-architect, perf-monitor, docs-agent
- 9 slash commands including /ralph-loop, /test-and-commit, /workflow-start
- 6 hooks: builder-guard, verify-work, pre-review-checks, classify-risk, metrics-logger, prompt-handoff
- 9 skills with Honesty Protocol and Definition of Failure sections
- Interactive installer with symlink/copy modes
- Bitwarden CLI credential management with three-strategy fallback
- tmux-based multi-agent launch and monitoring scripts
- Support for CloudFlare Workers, Node.js, Deno, and Python runtimes
