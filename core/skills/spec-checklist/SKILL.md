# Generated by Ivan's Workflow — https://github.com/No-Smoke/ivans-workflow
---
name: spec-checklist
description: "Read a specification file, extract acceptance criteria, and generate a verification checklist. Used by Reviewer and Tester to verify spec compliance."
---

# Spec Checklist Generator

## Purpose

Extract acceptance criteria from a specification document and generate a structured checklist for verifying implementation compliance. This skill is used by the Reviewer agent during code review and by the Tester agent during verification.

## When to Use

- Reviewer is checking if an implementation meets spec requirements
- Tester needs to verify all acceptance criteria are covered
- Planner needs to enumerate what "done" means for a spec
- Any agent needs to understand what a spec requires

## Prerequisites

- Project must have `specs.enabled: true` in `.claude/project-config.yaml`
- Spec files must exist in the configured `specs.directories`
- If specs are not enabled, respond: "This project doesn't use spec-driven development. Create a manual checklist instead."

## What It Does

### Step 1: Locate the Spec
Read the spec ID or filename provided. Search in the directories listed under `specs.directories` in project-config.yaml. If not found, report which directories were searched.

### Step 2: Parse the Spec
Extract from the spec document:
- **Title and ID** (e.g., "EBATT-007: IEEE 485 Calculator")
- **Acceptance Criteria** — numbered list (look for sections titled "Acceptance Criteria", "Requirements", "Definition of Done", "Success Criteria", or bullet lists with "must", "shall", "should")
- **Technical Requirements** — specific technical constraints (performance, security, API contract)
- **Dependencies** — other specs or components referenced

### Step 3: Generate Checklist
Output a verification checklist in this format:

```markdown
## Spec Checklist: {SPEC-ID} — {Title}

### Acceptance Criteria
- [ ] AC-1: {criterion text}
- [ ] AC-2: {criterion text}
- [ ] AC-3: {criterion text}

### Technical Requirements
- [ ] TR-1: {requirement text}
- [ ] TR-2: {requirement text}

### Dependencies
- [ ] DEP-1: {dependency} — {status: met/unmet/unknown}

### Quality Gates
- [ ] All tests pass (`{config:quality.test_command}`)
- [ ] Type check passes (`{config:quality.typecheck_command}`)
- [ ] Lint passes (`{config:quality.lint_command}`)
- [ ] Coverage meets threshold ({config:quality.coverage_threshold}%)

### Implementation Evidence
- [ ] Files created/modified listed
- [ ] Test files covering acceptance criteria
- [ ] No TODOs in critical paths
- [ ] Error handling follows project patterns
```

### Step 4: Cross-Reference (if handoff exists)
If a Builder handoff exists for this task, cross-reference:
- Which acceptance criteria are claimed as met in the handoff
- Which files the Builder says address each criterion
- Any criteria the Builder flagged as blocked or deferred

## Hard Boundaries (DO NOT)

- Do NOT modify any spec files
- Do NOT modify any source code
- Do NOT run tests (that's the Tester's job)
- Do NOT mark criteria as met without evidence — default to unchecked

## Output Format

Return the checklist as markdown. Include:
1. The full checklist with all items unchecked by default
2. A summary line: "X acceptance criteria, Y technical requirements, Z dependencies"
3. If cross-referencing a handoff: note which criteria have claimed evidence

## Escalation Criteria

- Spec file not found in any configured directory
- Spec has no identifiable acceptance criteria (ask human to clarify)
- Spec references dependencies not in the project
- Conflicting requirements within the spec
