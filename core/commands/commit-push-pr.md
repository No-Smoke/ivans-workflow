# Generated by Ivan's Workflow — https://github.com/No-Smoke/ivans-workflow

# /commit-push-pr — Commit, push to feature branch, create PR

Commit current changes, push to a feature branch, and create a pull request using the @pr-architect subagent for structured PR body generation.

## Steps

1. Run `/test-and-commit` first (quality gate must pass)
2. Determine or create feature branch:
   - If already on a feature branch, use it
   - If on main/master, create branch: `{type}/{task-id}-{short-description}`
   - Example: `feat/TASK-001-ieee485-calculator`
3. Push to remote: `git push -u origin {branch}`
4. Invoke `@pr-architect` subagent to:
   - Gather git diff stats
   - Classify risk level
   - Generate structured PR body
   - Create PR via `gh pr create`
5. Print PR URL and risk assessment summary

## Branch Naming

Read `specs.id_prefix` from project-config.yaml if available:
- With spec: `feat/{PREFIX}-{ID}-{slug}` (e.g., `feat/EBATT-007-ieee485`)
- Without spec: `feat/{slug}` (e.g., `feat/add-auth-middleware`)

## Prerequisites

- `gh` CLI authenticated (`gh auth status`)
- Remote origin configured
- Quality gates must pass before PR creation
